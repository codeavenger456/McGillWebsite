<!DOCTYPE html>
<html>
    <head>
            <title>{{title}}</title>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
            {% load static %}
            <link rel="stylesheet" href="{% static 'cms/header.css' %}">
            <style>
                body {
                    padding-top:110px;
                }
                .header-nav .dropdown:hover>.dropdown-menu
                {
                    display: block;
                }
                .flex-container{
                    padding: 20px;
                    display: flex;
                    flex-direction: row;
                }
                .footer{
                    min-height: 150px;
                    background-color: black;
                }
                #footer_image{
                    margin: auto;
                    width: 30vw;
                    min-width: 250px;
                    max-width: 100%;
                    height: auto;
                }
                #homepage_link{
                    text-decoration: none;
                    color: white;
                }
                #homepage_link:hover{
                    text-decoration: underline;
                }
                @media (max-width: 600px) {
                    .flex-container {
                        flex-direction: column;
                    }
                }
            </style>
            {{custom_js_css|safe}}
    </head>

    <body>
        {% include "header.html" %}
        <div class="container-fluid">
            <div class="row" style="min-height: 70vh;">
                {% if template == Template.DEFAULT %}
                <div class="col-sm-3"><h3>Temporary Sidebar</h3></div> <!--Side-wide comman sidebar-->
                <div class="col-sm-9">
                    {{content|safe}}
                </div>
                {% elif template == Template.NO_SIDEBAR %}
                <div class="col-sm-12">
                    {{content|safe}}
                </div>
                {% endif %}
            </div>
          </div>
        <footer class="footer">
            <div class="flex-container text-white">
                <p style="flex: 35%;">McGill University<br>School of Computer Science<br>3480 University Street<br>Montreal QC H3A 2A7</p>
                <p style="flex: 26%"><a href="mcgill.ca" id="homepage_link">McGill Homepage</a></p>
                <p style="flex: 10%">&copy; McGill University 2020</p>
            </div>
            <div class="row" style="margin-right: 0"> <!--Side-wide common footer-->
                {% load static %}
                <img src="{% static 'cms/black-new-logo.png' %}" id="footer_image">
            </div>
        </footer>

        <script>
            //header buttons are full-width on mobile devices.
            function adjustHeaderButtons()
            {
                if(window.innerWidth<=991)
                {
                    $(".header-button").addClass("btn-block");
                }
                else
                {
                    $(".header-button").removeClass("btn-block");
                }
            }
            $(document).ready(adjustHeaderButtons);
            $(window).resize(adjustHeaderButtons);
        </script>
    </body>
</html>